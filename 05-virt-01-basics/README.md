
# Домашнее задание к занятию "1. Введение в виртуализацию. Типы и функции гипервизоров. Обзор рынка вендоров и областей применения."


## Как сдавать задания

Обязательными к выполнению являются задачи без указания звездочки. Их выполнение необходимо для получения зачета и диплома о профессиональной переподготовке.

Задачи со звездочкой (*) являются дополнительными задачами и/или задачами повышенной сложности. Они не являются обязательными к выполнению, но помогут вам глубже понять тему.

Домашнее задание выполните в файле readme.md в github репозитории. В личном кабинете отправьте на проверку ссылку на .md-файл в вашем репозитории.

Любые вопросы по решению задач задавайте в чате учебной группы.

---

## Важно!

Перед отправкой работы на проверку удаляйте неиспользуемые ресурсы.
Это важно для того, чтоб предупредить неконтролируемый расход средств, полученных в результате использования промокода.

Подробные рекомендации [здесь](https://github.com/netology-code/virt-homeworks/blob/virt-11/r/README.md)

---

## Задача 1

Опишите кратко, как вы поняли: в чем основное отличие полной (аппаратной) виртуализации, паравиртуализации и виртуализации на основе ОС.

Если говорить о различиях, то можно сказать так:
различия в механизмах работы гипервизоров, в реализации на уровне кода и библиотек, способами взаимодействия с хостовой ОС и его доступа к ресурсам к ней.

Полная, аппаратная - гипервизор без посредников, устанавливается на голое железо.

Паравиртуалтзация - гипервизор ставится поверх хостовой ОС и разделяет с ней ресурсы (медленнее чем аппаратная виртуализация и меньше ресурсов достается, + так как производится модификация кода гостевой ОС для разделения ресурсов с хостовой ОС).

Виртуализация на уровне ОС - запуск ВМ на уровне хостовой ОС и только с тем же ядром что у хостовой машины.

## Задача 2

Выберите один из вариантов использования организации физических серверов, в зависимости от условий использования.

Организация серверов:
- физические сервера,
- паравиртуализация,
- виртуализация уровня ОС.

Условия использования:
- Высоконагруженная база данных, чувствительная к отказу.
  Физические сервера (больше ресурсов достается под задачу, таймауты минимальны)
- Различные web-приложения.
  Виртуаизация уровня ОС, быстро разворачивать, доступно много фреймворков для таких задач завернутые в докеры
- Windows системы для использования бухгалтерским отделом.
  Физические сервера, обычно тяжелый сервис для бухгалтерии в части использования ресурсов;
- Системы, выполняющие высокопроизводительные расчеты на GPU.
  Физические сервера, прямой доступ к GPU ресурсам;

  Паравиртуализацию я в производственных средах в принципе не исполльзвал бы.

Опишите, почему вы выбрали к каждому целевому использованию такую организацию.

## Задача 3

Выберите подходящую систему управления виртуализацией для предложенного сценария. Детально опишите ваш выбор.

Сценарии:

1. 100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований. Преимущественно Windows based инфраструктура, требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий.

   Отлично подходит аппартаная виртуализация для такой задачи: MS Hyper-V, XCP-ng, VMWare esxi & vSphere, Xen Citrix.
Максимально ресурсы будут отданы под задачи гостевых ОС, поддержка различных ядер ОС, объединение гипервизоров в кластер для отказоустойчивости и производительости, а также очень быстродейственная технология хранения VMware vSAN или Microsoft Storage Spaces Direct.

2. Требуется наиболее производительное бесплатное open source решение для виртуализации небольшой (20-30 серверов) инфраструктуры на базе Linux и Windows виртуальных машин.

   MS Hyper-V, XCP-ng - бесплатные гипервизоры, простота в установке и управлении.

3. Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows инфраструктуры.

   MS Hyper-V core - бесплатное, максимально совместимое и производительное решение от MS Windows.

4. Необходимо рабочее окружение для тестирования программного продукта на нескольких дистрибутивах Linux.

   Для быстрой установки, развертывания, тестирования удобно использовать для различных дистрибутивов Linux виртуализацию уровня ОС: Docker

## Задача 4

Опишите возможные проблемы и недостатки гетерогенной среды виртуализации (использования нескольких систем управления виртуализацией одновременно) и что необходимо сделать для минимизации этих рисков и проблем. Если бы у вас был выбор, то создавали бы вы гетерогенную среду или нет? Мотивируйте ваш ответ примерами.

   Гетерогенные системы в основном могут образовываться в поиске оптимального и недорогого решения виртуализации с надежной системой хранения, на практике всегда получается в тестовой, а потом в производственной среде минимум от двух систем управления в разных сочетаниях использования таких гипервизоров как VMWare vSphere, xcp-ng, Xen Citrix, VMWare esxi, MS Hyper-V, Kubernetes.
Основная проблема в случаи минимум двух различных гипервизоров это конечно же резервное копировани и восстанавлнеие между этими разными инфраструктурами, разные файлы виртуальных дисков, ну и конечно при миграции между инфраструктурами могут возникать проблемы запуска таких ВМ.
Например, миграция ВМ из XenCitrix в любуой другой отличный от xen гипервизоров, без определенной подготовки ВМ не запустится после конвертации дисков в VMWare esxi или MS Hyper-V, минимум нужно удалить ядро xen на Linux, тулзу от xen, почистить реестр Windows.
Вообще в поисках грааля мы всегда будем тестировать и запускать в продакшен ту или иную выгодную по многим параметрам систему управления ВМ и это нормальная практика по мне.
